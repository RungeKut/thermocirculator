
<!-- saved from url=(0038)https://aterlux.ru/article/ntcresistor -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>﻿Измерение температуры при помощи NTC термистора и микроконтроллера AVR</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/style.css">
 </head>
 <body>
  <table cellspacing="0" cellpadding="0" class="pagebound" width="100%" height="100%">
   <tbody><tr width="100%">
    <td valign="TOP" align="LEFT" width="100%">
<div class="article">
<h1>﻿Измерение температуры при помощи NTC термистора и микроконтроллера AVR</h1>
<div class="contents">
<a href="https://aterlux.ru/article/ntcresistor#__h2_1">Характеристика NTC термистора</a><br>
<a href="https://aterlux.ru/article/ntcresistor#__h2_2">Вычисление температуры</a><br>
<a href="https://aterlux.ru/article/ntcresistor#__h2_3">Схемы подключения</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://aterlux.ru/article/ntcresistor#__h3_4">Подключение термистора</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://aterlux.ru/article/ntcresistor#__h3_5">Подключение к АЦП микроконтроллера ATmega</a><br>
<a href="https://aterlux.ru/article/ntcresistor#__h2_6">Расчёт таблицы значений</a><br>
<a href="https://aterlux.ru/article/ntcresistor#__h2_7">Пример использования</a><br>
</div>
<br>
<p>Автор: Погребняк Дмитрий</p>
<p>Самара, 2013.</p>
<br>
<p><a href="https://aterlux.ru/article/ntcresistor-en">Click here</a> to read this article in English.</p>
<br>
<p>Одним из вариантов для измерения температуры является использование термисторов. Среди преимуществ термистора можно выделить большое значение температурного коэффициента, то есть значительное изменение сопротивления в зависимости от температуры (порядка 2-10% на Кельвин). Термисторы бывают двух типов: с положительным температурным коэффициентом (PTC, Positive Temperature Coefficient), то есть увеличивающие своё сопротивление с увеличением температуры, и с отрицательным (NTC, Negative Temperature Coefficient) – уменьшающие сопротивление с возрастанием температуры. Речь в данной статье пойдёт про вторые, и про их использования для измерения температуры в сочетании с микроконтроллерами AVR</p>
<br>
<a name="__h2_1"></a><h2>Характеристика NTC термистора</h2>
<p>Термисторы характеризуются рядом параметров, такими, как максимальный допустимый ток, точность, сопротивление при определённой температуре (как правило, при 25°С). Одним из параметров, характеризующим степень изменения сопротивления в зависимости от температуры является <b>коэффициент температурной чувствительности</b>, обозначаемый <b>B</b>. Этот коэффициент рассчитывается на основе значений сопротивления при двух конкретных значениях температур. Во многих случаях этими температурами выбираются 25°С и 100°С. Обычно температуры, использованные при вычислении коэффициента указываются после буквы, например <b>B<sub>25/100</sub></b>. Коэффициент B измеряется в Кельвинах и вычисляется по следующей формуле:</p>
<a name="FORMULA1"></a><p></p><center><b>B = (ln(R<sub>1</sub>) – ln(R<sub>2</sub>)) / (1 / T<sub>1</sub> -  1 / T<sub>2</sub>)</b> <i>[1]</i>,</center><p></p>
<p>где R<sub>1</sub> и R<sub>2</sub> - значения сопротивлений при температурах соответственно T<sub>1</sub> и T<sub>2</sub>, выраженных в Кельвинах. </p>
<p>Из этой формулы следуют и обратные: </p>
<a name="FORMULA2"></a><p></p><center><b>R<sub>1</sub> = R<sub>2</sub> * e<sup>(B * (1 / T<sub>1</sub> -  1 / T<sub>2</sub>))</sup></b> <i>[2]</i>.</center><p></p>
<p></p><center>и</center><p></p>
<a name="FORMULA3"></a><p></p><center><b>T<sub>1</sub> = 1 / ((ln(R<sub>1</sub>) – ln(R<sub>2</sub>)) / B + 1 / T<sub>2</sub>)</b> <i>[3]</i>.</center><p></p>
<br>
<a name="__h2_2"></a><h2>Вычисление температуры</h2>
<p>Термисторы обладают высокой степенью нелинейности параметров, и термисторы различных моделей, даже при одинаковых значениях параметра B<sub>25/100</sub> могут по разному изменять сопротивление в зависимости от температуры. Поэтому формула <a href="https://aterlux.ru/article/ntcresistor#FORMULA3"><i>[3]</i></a> может лишь приблизительно оценить температуру. Кроме того, такая формула подразумевает сложные вычисления, которые требуют много процессорного времени, что часто является неприемлемым. Более простым и эффективным подходом является хранение таблицы, в которую заносятся предварительно рассчитанные значения, возвращаемые АЦП при тех, или иных температурах. Для экономии памяти можно хранить значения только для некоторых точек, искать их в таблице двоичным поиском, а промежуточные значения получать линейной интерполяцией. Для измерений температуры окружающего воздуха с точностью до 0.3°C, достаточно хранить значения с шагом 5°C. Если значения лежат в пределах 16 бит (и занимают 2 байта), то для хранения такой таблицы для диапазона измеряемых температур от -30 до 70 градусов потребуется всего 40 байт. Точность измерений можно повысить, уменьшив шаг таблицы. Так при шаге 2°C можно добиться точности до 0.1°C на широком диапазоне измерений.</p>
<br>
<p>Производители термисторов, как правило, приводят таблицы показывающие изменение сопротивления в зависимости от температур. Значения в этих таблицах также привязаны к сетке температур с некоторым шагом (например, 5°C). Используя формулы <a href="https://aterlux.ru/article/ntcresistor#FORMULA1"><i>[1]</i></a> и <a href="https://aterlux.ru/article/ntcresistor#FORMULA2"><i>[2]</i></a> можно с достаточной точностью интерполировать табличные значения.</p>
<br>
<a name="__h2_3"></a><h2>Схемы подключения</h2>
<a name="__h3_4"></a><h3>Подключение термистора</h3>
<a name="SCHEMES"></a><p><table width="1" cellspacing="0" cellpadding="0" class="imgtable" align="left" style="margin-right:10px; align:left"><tbody><tr class="imgtable"><td class="imgtable"><img src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/ntc_a.png" alt="Схема A" class="artimg"></td></tr><tr width="1" class="imgtablelabel"><td class="imgtablelabel">Схема A</td></tr></tbody></table><table width="1" cellspacing="0" cellpadding="0" class="imgtable" align="left" style="margin-right:10px; align:left"><tbody><tr class="imgtable"><td class="imgtable"><img src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/ntc_b.png" alt="Схема B" class="artimg"></td></tr><tr width="1" class="imgtablelabel"><td class="imgtablelabel">Схема B</td></tr></tbody></table><table width="1" cellspacing="0" cellpadding="0" class="imgtable" align="left" style="margin-right:10px; align:left"><tbody><tr class="imgtable"><td class="imgtable"><img src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/ntc_c.png" alt="Схема C" class="artimg"></td></tr><tr width="1" class="imgtablelabel"><td class="imgtablelabel">Схема C</td></tr></tbody></table><table width="1" cellspacing="0" cellpadding="0" class="imgtable" align="baseline" style="margin-right:10px; align:baseline"><tbody><tr class="imgtable"><td class="imgtable"><img src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/ntc_d.png" alt="Схема D" class="artimg"></td></tr><tr width="1" class="imgtablelabel"><td class="imgtablelabel">Схема D</td></tr></tbody></table></p>
<p>Наиболее простым вариантом подключения является схема A. При выборе номинала резистора R<sub>A</sub> примерно равным сопротивлению термистора в районе измеряемых температур, значения U будут изменяться ближе к линейным, что обеспечит большую точность при интерполяции табличных значений.</p>
<p>Выбирая номиналы R<sub>A</sub> и термистора, следует учесть, что протекающий через термистор ток вызывает его нагрев и, как следствие, искажение показаний. Желательно чтобы мощность на термисторе не превышала 1 мВт. А значит, при напряжении U<sub>0</sub> = 5В, R<sub>A</sub> должен быть как минимум, 10 килоОм. Сопротивление термистора в измеряемом диапазоне должно иметь примерно тот же порядок.</p>
<br>
<p>Схема B призвана ограничить мощность, рассеиваемую на термисторе.</p>
<br>
<p>Схемы C и D являются обратными к A и B. Их имеет смысл использовать, если требуется измерять низкие температуры, когда референтное значение АЦП (U<sub>ref</sub>) ниже U<sub>0</sub>.</p>
<br>
<a name="__h3_5"></a><h3>Подключение к АЦП микроконтроллера ATmega</h3>
<p></p><center><table width="1" cellspacing="0" cellpadding="0" class="imgtable" style="margin-right:10px; align:center"><tbody><tr class="imgtable"><td class="imgtable"><img src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/atmega_adc.png" alt="Подключение АЦП микроконтроллеров ATmega" class="artimg"></td></tr><tr width="1" class="imgtablelabel"><td class="imgtablelabel">Подключение АЦП микроконтроллеров ATmega</td></tr></tbody></table></center><p></p>
<p>У контроллеров ATmega для снижения шумов используется отдельная линия питания для модуля АЦП. Инструкция рекомендует подключать эти входы через фильтр: индуктивность L = 10мкГн, и конденсатор C2 = 0,1мкФ.</p>
<p>Микроконтроллер может использовать либо внешнее референтное напряжение для АЦП, либо внутреннее (2,56В или 1,1В), либо, в качестве такового, использовать напряжение питания АЦП: AVCC. При использовании внешнего напряжения, оно должно быть подано на вход AREF. При использовании AVCC, или внутреннего напряжения 2,56В, между этим входом и землёй должен быть размещён конденсатор (на схеме C1). Инструкция не даёт чёткого указания для выбора ёмкости конденсатора, рекомендую использовать керамический конденсатор 0,1мкФ и более.</p>
<br>
<p>Для снижения измеряемых шумов, рекомендую термистор также подключать к фильтрованному напряжению параллельно AVCC, и настроить на использование этого напряжения в качестве референтного.</p>
<p>Дополнительно, для подавления шумов возникающих на линиях, можно установить конденсатор C3 в диапазоне 1-100нФ.</p>
<br>
<p>Следует учесть, что помимо модуля АЦП, вход AVCC запитывает также некоторые из портов ввода/вывода (как правило, на тех же выводах, что используются для АЦП). Использование этих портов на вывод и подключение к ним нагрузки может создать дополнительные шумы в работе АЦП.</p>
<br>
<p>Чтобы нивелировать шумы, возникающие на АЦП, рекомендую провести замеры несколько раз подряд и просуммировать полученные значения. В микроконтроллерах ATmega АЦП – 10-разрядный. Просуммировав результаты 64 подряд идущих измерений, результат остаётся в пределах 16-битного беззнакового целого, что не потребует дополнительной памяти для сохранения таблицы значений. При большем числе измерений также можно оставаться в пределах 16 бит, соответствующим образом сдвигая или деля результат.</p>
<br>
<a name="__h2_6"></a><h2>Расчёт таблицы значений</h2>
<p>Вашему вниманию предлагаю скрипт для онлайн расчёта таблицы значений АЦП.</p>
<p>Расчёт значений ведётся либо по двум значениям температур и сопротивлений, либо вводится списком, либо используется одна из предзагруженных R/T характеристик. В настоящее время загружены R/T характеристики термисторов фирмы Siemens/EPCOS. Выберите подходящую из списка.</p>
<p>Загруженные характеристики даны с шагом 5°С, при выборе меньшего шага сетки, значения получаются путём интерполяции по формулам <a href="https://aterlux.ru/article/ntcresistor#FORMULA1"><i>[1]</i></a> и <a href="https://aterlux.ru/article/ntcresistor#FORMULA2"><i>[2]</i></a> двух ближайших значений из таблицы.</p>
<p>При построении таблицы автоматически соответствующим образом обновляется пример исходного кода под ней.</p>
<br>
<p><b>Внимание!</b> Так как параметры термисторов в значительной мере нелинейны, расчёт по двум значениям сопротивлений, либо по значению и коэффициенту будет очень приблизительным. Вычисленное значение температуры при измерении высоких, или низких температур в таком случае может значительно (на десятки градусов) отличаться от актуальной.</p>
<p>Чтобы узнать подходящий тип R/T характеристики для вашего термистора, скачайте документацию, данную заводом изготовителем. </p>
<p>Сводная таблица для некоторых моделей термисторов Siemens/Epcos приведена ниже. Нажмите на код R/T характеристики, чтобы подгрузить параметры в форму ниже:</p>
<table class="article">
 <tbody><tr><td><b>Код</b></td><td><b>Сопротивление при 25°С, кОм</b></td><td><b>R/T характеристика</b></td><td colspan="2"><b>B<small>25/100</small>, К</b></td></tr>
 <tr><td colspan="5"><b>B57891S</b>, выводной 4,5мм <i>(<a href="http://www.epcos.com/inf/50/db/ntc_09/LeadedDisks__B57891__S891.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57891S0222+008</td><td align="right">2,2</td><td align="right"><a href="JavaScript:ntcRT(1008, 2.2);">1008</a></td><td colspan="2" align="right">3560</td></tr>
 <tr><td>B57891S0502+008</td><td align="right">5</td><td align="right"><a href="JavaScript:ntcRT(2003, 5);">2003</a></td><td colspan="2" align="right">3980</td></tr>
 <tr><td>B57891S0103+008</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(4901, 10);">4901</a></td><td colspan="2" align="right">3950</td></tr>
 <tr><td>B57891S0203+008</td><td align="right">20</td><td align="right"><a href="JavaScript:ntcRT(2904, 20);">2904</a></td><td colspan="2" align="right">4300</td></tr>
 <tr><td>B57891S0104+008</td><td align="right">100</td><td align="right"><a href="JavaScript:ntcRT(4003, 100);">4003</a></td><td colspan="2" align="right">4450</td></tr>
 <tr><td colspan="5"><br><b>B57891M</b>, выводной 3,5мм <i>(<a href="http://www.epcos.com/inf/50/db/ntc_09/LeadedDisks__B57891__M891.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57891M0102+000</td><td align="right">1</td><td align="right"><a href="JavaScript:ntcRT(1009, 1);">1009</a></td><td colspan="2" align="right">3930</td></tr>
 <tr><td>B57891M0152+000</td><td align="right">1,5</td><td align="right"><a href="JavaScript:ntcRT(1008, 1.5);">1008</a></td><td colspan="2" align="right">3560</td></tr>
 <tr><td>B57891M0222+000</td><td align="right">2,2</td><td align="right"><a href="JavaScript:ntcRT(1013, 2.2);">1013</a></td><td colspan="2" align="right">3900</td></tr>
 <tr><td>B57891M0332+000</td><td align="right">3,3</td><td align="right"><a href="JavaScript:ntcRT(2003, 3.3);">2003</a></td><td colspan="2" align="right">3980</td></tr>
 <tr><td>B57891M0472+000</td><td align="right">4,7</td><td align="right"><a href="JavaScript:ntcRT(2003, 4.7);">2003</a></td><td colspan="2" align="right">3980</td></tr>
 <tr><td>B57891M0682+000</td><td align="right">6,8</td><td align="right"><a href="JavaScript:ntcRT(2003, 6.8);">2003</a></td><td colspan="2" align="right">3980</td></tr>
 <tr><td>B57891M0103+000</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(4901, 10);">4901</a></td><td colspan="2" align="right">3950</td></tr>
 <tr><td>B57891M0153+000</td><td align="right">15</td><td align="right"><a href="JavaScript:ntcRT(2004, 15);">2004</a></td><td colspan="2" align="right">4100</td></tr>
 <tr><td>B57891M0223+000</td><td align="right">22</td><td align="right"><a href="JavaScript:ntcRT(2904, 22);">2904</a></td><td colspan="2" align="right">4300</td></tr>
 <tr><td>B57891M0333+000</td><td align="right">33</td><td align="right"><a href="JavaScript:ntcRT(2904, 33);">2904</a></td><td colspan="2" align="right">4300</td></tr>
 <tr><td>B57891M0473+000</td><td align="right">47</td><td align="right"><a href="JavaScript:ntcRT(4012, 47);">4012</a></td><td colspan="2" align="right">4355</td></tr>
 <tr><td>B57891M0683+000</td><td align="right">68</td><td align="right"><a href="JavaScript:ntcRT(4012, 68);">4012</a></td><td colspan="2" align="right">4355</td></tr>
 <tr><td>B57891M0104+000</td><td align="right">100</td><td align="right"><a href="JavaScript:ntcRT(4003, 100);">4003</a></td><td colspan="2" align="right">4450</td></tr>
 <tr><td>B57891M0154+000</td><td align="right">150</td><td align="right"><a href="JavaScript:ntcRT(2005, 150);">2005</a></td><td colspan="2" align="right">4600</td></tr>
 <tr><td>B57891M0224+000</td><td align="right">220</td><td align="right"><a href="JavaScript:ntcRT(2005, 220);">2005</a></td><td colspan="2" align="right">4600</td></tr>
 <tr><td>B57891M0334+000</td><td align="right">330</td><td align="right"><a href="JavaScript:ntcRT(2007, 330);">2007</a></td><td colspan="2" align="right">4830</td></tr>
 <tr><td>B57891M0474+000</td><td align="right">470</td><td align="right"><a href="JavaScript:ntcRT(2006, 470);">2006</a></td><td colspan="2" align="right">5000</td></tr>
 <tr><td colspan="5"><br><b>B57164K</b>, выводной 5,5мм <i>(<a href="http://www.epcos.com/inf/50/db/ntc_09/LeadedDisks__B57164__K164.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57164K0471+000</td><td align="right">0,47</td><td align="right"><a href="JavaScript:ntcRT(1306, 0.47);">1306</a></td><td colspan="2" align="right">3450</td></tr>
 <tr><td>B57164K0681+000</td><td align="right">0,68</td><td align="right"><a href="JavaScript:ntcRT(1307, 0.68);">1307</a></td><td colspan="2" align="right">3560</td></tr>
 <tr><td>B57164K0102+000</td><td align="right">1</td><td align="right"><a href="JavaScript:ntcRT(1011, 1);">1011</a></td><td colspan="2" align="right">3730</td></tr>
 <tr><td>B57164K0152+000</td><td align="right">1,5</td><td align="right"><a href="JavaScript:ntcRT(1013, 1.5);">1013</a></td><td colspan="2" align="right">3900</td></tr>
 <tr><td>B57164K0222+000</td><td align="right">2,2</td><td align="right"><a href="JavaScript:ntcRT(1013, 2.2);">1013</a></td><td colspan="2" align="right">3900</td></tr>
 <tr><td>B57164K0332+000</td><td align="right">3,3</td><td align="right"><a href="JavaScript:ntcRT(4001, 3.3);">4001</a></td><td colspan="2" align="right">3950</td></tr>
 <tr><td>B57164K0472+000</td><td align="right">4,7</td><td align="right"><a href="JavaScript:ntcRT(4001, 4.7);">4001</a></td><td colspan="2" align="right">3950</td></tr>
 <tr><td>B57164K0682+000</td><td align="right">6,8</td><td align="right"><a href="JavaScript:ntcRT(2903, 6.8);">2903</a></td><td colspan="2" align="right">4200</td></tr>
 <tr><td>B57164K0103+000</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(2904, 10);">2904</a></td><td colspan="2" align="right">4300</td></tr>
 <tr><td>B57164K0153+000</td><td align="right">15</td><td align="right"><a href="JavaScript:ntcRT(1014, 15);">1014</a></td><td colspan="2" align="right">4250</td></tr>
 <tr><td>B57164K0223+000</td><td align="right">22</td><td align="right"><a href="JavaScript:ntcRT(1012, 22);">1012</a></td><td colspan="2" align="right">4300</td></tr>
 <tr><td>B57164K0333+000</td><td align="right">33</td><td align="right"><a href="JavaScript:ntcRT(1012, 33);">1012</a></td><td colspan="2" align="right">4300</td></tr>
 <tr><td>B57164K0473+000</td><td align="right">47</td><td align="right"><a href="JavaScript:ntcRT(4003, 47);">4003</a></td><td colspan="2" align="right">4450</td></tr>
 <tr><td>B57164K0683+000</td><td align="right">68</td><td align="right"><a href="JavaScript:ntcRT(2005, 68);">2005</a></td><td colspan="2" align="right">4600</td></tr>
 <tr><td>B57164K0104+000</td><td align="right">100</td><td align="right"><a href="JavaScript:ntcRT(2005, 100);">2005</a></td><td colspan="2" align="right">4600</td></tr>
 <tr><td>B57164K0154+000</td><td align="right">150</td><td align="right"><a href="JavaScript:ntcRT(2005, 150);">2005</a></td><td colspan="2" align="right">4600</td></tr>
 <tr><td>B57164K0224+000</td><td align="right">220</td><td align="right"><a href="JavaScript:ntcRT(2007, 220);">2007</a></td><td colspan="2" align="right">4830</td></tr>
 <tr><td>B57164K0334+000</td><td align="right">330</td><td align="right"><a href="JavaScript:ntcRT(2006, 330);">2006</a></td><td colspan="2" align="right">5000</td></tr>
 <tr><td>B57164K0474+000</td><td align="right">470</td><td align="right"><a href="JavaScript:ntcRT(2006, 470);">2006</a></td><td colspan="2" align="right">5000</td></tr>
 <tr><td colspan="5"><br><b>B57540G</b>, выводной, стеклянный "капля" 0,8мм <i>(<a href="http://www.epcos.com/inf/50/db/ntc_09/Glass_enc_Sensors__B57540__G540__G1540.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57540G0502+000, +002</td><td align="right">5</td><td align="right"><a href="JavaScript:ntcRT(8402, 5);">8402</a></td><td colspan="2" align="right">3497</td></tr>
 <tr><td>B57540G1103+000, +002</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(8307, 10);">8307</a></td><td colspan="2" align="right">3492</td></tr>
 <tr><td>B57540G1103+005, +007</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(7003, 10);">7003</a></td><td colspan="2" align="right">3625</td></tr>
 <tr><td>B57540G0203+000, +002</td><td align="right">20</td><td align="right"><a href="JavaScript:ntcRT(8415, 20);">8415</a></td><td colspan="2" align="right">4006</td></tr>
 <tr><td>B57540G1303+005, +007</td><td align="right">30</td><td align="right"><a href="JavaScript:ntcRT(7002, 30);">7002</a></td><td colspan="2" align="right">3988</td></tr>
 <tr><td>B57540G0503+000, +002</td><td align="right">50</td><td align="right"><a href="JavaScript:ntcRT(8403, 50);">8403</a></td><td colspan="2" align="right">4006</td></tr>
 <tr><td>B57540G1104+000, +002</td><td align="right">100</td><td align="right"><a href="JavaScript:ntcRT(8304, 100);">8304</a></td><td colspan="2" align="right">4092</td></tr>
 <tr><td>B57540G0234+000, +002</td><td align="right">230</td><td align="right"><a href="JavaScript:ntcRT(8405, 230);">8405</a></td><td colspan="2" align="right">4264</td></tr>
 <tr><td>B57540G0145+000, +002</td><td align="right">1400</td><td align="right"><a href="JavaScript:ntcRT(8406, 1400);">8406</a></td><td colspan="2" align="right">4581</td></tr>
 <tr><td colspan="5"><br><b>B57551G</b>, выводной, стеклянный "капля" 1,8мм <i>(<a href="http://www.epcos.com/inf/50/db/ntc_09/Glass_enc_Sensors__B57551__G551__G1551__coated.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57551G0202+000, +002</td><td align="right">2</td><td align="right"><a href="JavaScript:ntcRT(8401, 2);">8401</a></td><td colspan="2" align="right">3436</td></tr>
 <tr><td>B57551G1103+000, +002</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(8307, 10);">8307</a></td><td colspan="2" align="right">3492</td></tr>
 <tr><td>B57551G1103+005, +007</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(7003, 10);">7003</a></td><td colspan="2" align="right">3625</td></tr>
 <tr><td>B57551G1303+005, +007</td><td align="right">30</td><td align="right"><a href="JavaScript:ntcRT(7002, 30);">7002</a></td><td colspan="2" align="right">3988</td></tr>
 <tr><td>B57551G1104+000, +002</td><td align="right">100</td><td align="right"><a href="JavaScript:ntcRT(8304, 100);">8304</a></td><td colspan="2" align="right">4092</td></tr>
 <tr><td colspan="5"><br><b>B57621С5</b>, SMD 3,2х1,6мм <i>(<a href="http://www.epcos.com/inf/50/db/ntcsmd_11/SMD_NTCs_NiBarrier_Standard_1206.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57621C5102+062</td><td align="right">1,0</td><td align="right"><a href="JavaScript:ntcRT(3206, 1);">3206</a></td><td colspan="2" align="right">3450</td></tr>
 <tr><td>B57621C5472+062</td><td align="right">4,7</td><td align="right"><a href="JavaScript:ntcRT(1309, 4.7);">1309</a></td><td colspan="2" align="right">3520</td></tr>
 <tr><td>B57621C5103+062</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(1010, 10);">1010</a></td><td colspan="2" align="right">3530</td></tr>
 <tr><td>B57621C5153+062</td><td align="right">15</td><td align="right"><a href="JavaScript:ntcRT(1008, 15);">1008</a></td><td colspan="2" align="right">3560</td></tr>
 <tr><td colspan="5"><br><b>B57621С0</b>, SMD 3,2х1,6мм <i>(<a href="http://media.digikey.com/pdf/Data%20Sheets/Epcos%20PDFs/B57621C.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57621C0222+062</td><td align="right">2,2</td><td align="right"><a href="JavaScript:ntcRT(1308, 2.2);">1308</a></td><td colspan="2" align="right">3060</td></tr>
 <tr><td>B57621C0332+062</td><td align="right">3,3</td><td align="right"><a href="JavaScript:ntcRT(1309, 3.3);">1309</a></td><td colspan="2" align="right">3520</td></tr>
 <tr><td>B57621C0472+062</td><td align="right">4,7</td><td align="right"><a href="JavaScript:ntcRT(1309, 4.7);">1309</a></td><td colspan="2" align="right">3520</td></tr>
 <tr><td>B57621C0103+062</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(1010, 10);">1010</a></td><td colspan="2" align="right">3530</td></tr>
 <tr><td>B57621C0153+062</td><td align="right">15</td><td align="right"><a href="JavaScript:ntcRT(1008, 15);">1008</a></td><td colspan="2" align="right">3560</td></tr>
 <tr><td>B57621C0223+062</td><td align="right">22</td><td align="right"><a href="JavaScript:ntcRT(1008, 22);">1008</a></td><td colspan="2" align="right">3560</td></tr>
 <tr><td>B57621C0333+062</td><td align="right">33</td><td align="right"><a href="JavaScript:ntcRT(2003, 33);">2003</a></td><td colspan="2" align="right">3980</td></tr>
 <tr><td>B57621C0473+062</td><td align="right">47</td><td align="right"><a href="JavaScript:ntcRT(2001, 47);">2001</a></td><td colspan="2" align="right">3920</td></tr>
 <tr><td>B57621C0683+062</td><td align="right">68</td><td align="right"><a href="JavaScript:ntcRT(2001, 68);">2001</a></td><td colspan="2" align="right">3920</td></tr>
 <tr><td>B57621C0104+062</td><td align="right">100</td><td align="right"><a href="JavaScript:ntcRT(4901, 100);">4901</a></td><td colspan="2" align="right">3950</td></tr>
 <tr><td>B57621C0154+162</td><td align="right">150</td><td align="right"><a href="JavaScript:ntcRT(2903, 150);">2903</a></td><td colspan="2" align="right">4200</td></tr>
 <tr><td>B57621C0224+062</td><td align="right">220</td><td align="right"><a href="JavaScript:ntcRT(2903, 220);">2903</a></td><td colspan="2" align="right">4200</td></tr>
 <tr><td>B57621C0334+062</td><td align="right">330</td><td align="right"><a href="JavaScript:ntcRT(1014, 330);">1014</a></td><td colspan="2" align="right">4250</td></tr>
 <tr><td>B57621C0474+062</td><td align="right">470</td><td align="right"><a href="JavaScript:ntcRT(1014, 470);">1014</a></td><td colspan="2" align="right">4250</td></tr>
 <tr><td colspan="5"><br><b>B57703M</b>, выводной 10мм, с "ухом" 8,5x3,7мм <i>(<a href="http://www.epcos.com/inf/50/db/ntc_13/NTC_Probe_ass_M703.pdf" target="_blank">datasheet, pdf</a>)</i></td></tr>
 <tr><td>B57703M0502G040</td><td align="right">5</td><td align="right"><a href="JavaScript:ntcRT(8016, 5);">8016</a></td><td colspan="2" align="right">3988</td></tr>
 <tr><td>B57703M0103G040</td><td align="right">10</td><td align="right"><a href="JavaScript:ntcRT(8016, 10);">8016</a></td><td colspan="2" align="right">3988</td></tr>
 <tr><td>B57703M0303G040</td><td align="right">30</td><td align="right"><a href="JavaScript:ntcRT(8018, 30);">8018</a></td><td colspan="2" align="right">3964</td></tr>
</tbody></table>
<p><b>Форма для он-лайн расчёта значений АЦП</b></p>
<script type="text/javascript" async="" src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/watch.js"></script><script language="JavaScript" src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/ntcresistor.js"></script>
  <img align="RIGHT" id="ntc_img_scheme" src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/ntc_a.png" border="0">
  <table class="form">
   <tbody><tr><td class="formdesc">Данные для таблицы</td><td class="form" width="320"><select id="ntc_b_select" class="formsel" onchange="onNtcSelectChange();"><option value="-1">Рассчитать по T1, R1, T2, R2</option><option value="-2">Рассчитать по T1, R1, T2, B(T2/T1)</option><option value="-15">Список значений R/R1</option><option value="0">EPCOS R/T:1201; B25/100:2700K</option><option value="1">EPCOS R/T:1202; B25/100:2800K</option><option value="2">EPCOS R/T:1203; B25/100:2900K</option><option value="3">EPCOS R/T:1207; B25/100:2965K</option><option value="4">EPCOS R/T:1302; B25/100:3000K</option><option value="5">EPCOS R/T:1303; B25/100:3050K</option><option value="6">EPCOS R/T:1308; B25/100:3060K</option><option value="7">EPCOS R/T:1208; B25/100:3065K</option><option value="8">EPCOS R/T:3207; B25/100:3100K</option><option value="9">EPCOS R/T:1209; B25/100:3165K</option><option value="10">EPCOS R/T:1305; B25/100:3200K</option><option value="11">EPCOS R/T:3204; B25/100:3250K</option><option value="12">EPCOS R/T:1210; B25/100:3265K</option><option value="13">EPCOS R/T:1304; B25/100:3300K</option><option value="14">EPCOS R/T:8401; B0/100:3390K</option><option value="15">EPCOS R/T:1306; B25/100:3450K</option><option value="16">EPCOS R/T:3206; B25/100:3450K</option><option value="17">EPCOS R/T:8402; B0/100:3450K</option><option value="18">EPCOS R/T:8407; B0/100:3450K</option><option value="19">EPCOS R/T:8307; B25/100:3492K</option><option value="20">EPCOS R/T:1309; B25/100:3520K</option><option value="21">EPCOS R/T:1010; B25/100:3530K</option><option value="22">EPCOS R/T:1006; B25/100:3550K</option><option value="23">EPCOS R/T:8501; B25/100:3550K</option><option value="24">EPCOS R/T:1008; B25/100:3560K</option><option value="25">EPCOS R/T:1307; B25/100:3560K</option><option value="26">EPCOS R/T:7003; B25/100:3625K</option><option value="27">EPCOS R/T:1011; B25/100:3730K</option><option value="28">EPCOS R/T:2901; B25/100:3760K</option><option value="29">EPCOS R/T:1013; B25/100:3900K</option><option value="30">EPCOS R/T:2001; B25/100:3920K</option><option value="31">EPCOS R/T:1009; B25/100:3930K</option><option value="32">EPCOS R/T:4001; B25/100:3950K</option><option value="33">EPCOS R/T:4901; B25/100:3950K</option><option value="34">EPCOS R/T:8018; B25/100:3964K</option><option value="35">EPCOS R/T:8403; B0/100:3970K</option><option value="36">EPCOS R/T:8415; B0/100:3970K</option><option value="37">EPCOS R/T:2003; B25/100:3980K</option><option value="38">EPCOS R/T:7002; B25/100:3988K</option><option value="39">EPCOS R/T:8016; B25/100:3988K</option><option value="40">EPCOS R/T:8502; B25/100:4000K</option><option value="41">EPCOS R/T:8404; B0/100:4036K</option><option value="42">EPCOS R/T:8304; B25/100:4092K</option><option value="43">EPCOS R/T:2004; B25/100:4100K</option><option value="44">EPCOS R/T:2101; B25/100:4100K</option><option value="45">EPCOS R/T:2911; B25/100:4170K</option><option value="46">EPCOS R/T:2903; B25/100:4200K</option><option value="47">EPCOS R/T:1014; B25/100:4250K</option><option value="48">EPCOS R/T:1012; B25/100:4300K</option><option value="49">EPCOS R/T:2904; B25/100:4300K</option><option value="50">EPCOS R/T:4012; B25/100:4355K</option><option value="51">EPCOS R/T:4003; B25/100:4450K</option><option value="52">EPCOS R/T:8503; B25/100:4500K</option><option value="53">EPCOS R/T:8405; B100/200:4537K</option><option value="54">EPCOS R/T:2014; B25/100:4540K</option><option value="55">EPCOS R/T:2005; B25/100:4600K</option><option value="56">EPCOS R/T:2007; B25/100:4830K</option><option value="57">EPCOS R/T:2006; B25/100:5000K</option><option value="58">EPCOS R/T:8406; B200/300:5133K</option><option value="59">EPCOS R/T:8413; B150/250:5300K</option></select>
<div width="100%" style="text-align: justify; white-space: normal; display: none;" id="ntc_b_notice"><small><font color="#C00000">*Из-за нелинейности параметров термистора, расчёт температуры на основе таблицы, построенной по двум точкам, будет грубым и полученное значение может на десятки градусов отличаться от действительного при измерении высоких и низких температур. 
Для точного измерения в широком диапазоне выберите одну из предзагруженных R/T характеристик, соответствующую вашему термистору, или перечислите  список значений R/R1 вручную.
</font></small></div></td></tr>
   <tr id="ntc_tr_t1" style="display: none;"><td class="formdesc">T1</td><td class="form"><input type="TEXT" class="formtext" id="ntc_t1" size="20" value="25">&nbsp;°С</td>
   </tr><tr><td class="formdesc">R1, cопротивление при <span id="ntc_r1_ref_desc">25°С</span></td><td class="form"><input type="TEXT" class="formtext" id="ntc_r1" size="20" value="22.0">&nbsp;<b><u>кило</u></b>Ом</td>
   </tr><tr id="ntc_tr_t2" style="display: none;"><td class="formdesc">T2</td><td class="form"><input type="TEXT" class="formtext" id="ntc_t2" size="20" value="100">&nbsp;°С</td>
   </tr><tr id="ntc_tr_r2" style="display: none;"><td class="formdesc">R2, сопротивление при T2</td><td class="form"><input type="TEXT" class="formtext" id="ntc_r2" size="20" value="1.211034">&nbsp;<b><u>кило</u></b>Ом</td>
   </tr><tr id="ntc_tr_tab" style="display: none;"><td class="formdesc">Данные для таблицы:R/R1<br>
     начиная с T2, с выбранным шагом сетки.<br>
     Разделитель значений - запятая.
    </td><td><textarea class="formtext" id="ntc_tab" cols="50" rows="10"></textarea></td>
   </tr>
   <tr id="ntc_tr_b" style="display: none;"><td class="formdesc">B<sub>T1/T2</sub></td><td class="form"><input type="TEXT" class="formtext" id="ntc_b_t1_t2" size="20/">&nbsp;K</td>
   </tr><tr><td class="formdesc"><a href="https://aterlux.ru/article/ntcresistor#SCHEMES">Схема включения термистора</a></td><td class="form"><select class="formsel" id="ntc_scheme" onchange="onNtcSchemeChange();">
     <option value="0" selected="">Схема A
     </option><option value="1">Схема B
     </option><option value="2">Схема C
     </option><option value="3">Схема D
    </option></select>
   </td></tr>
   <tr><td class="formdesc">Номинал резистора R<sub>A</sub></td><td class="form"><input type="TEXT" class="formtext" id="ntc_ra" size="20" value="10">&nbsp;<b><u>кило</u></b>Ом</td>
   </tr><tr id="ntc_tr_rb" style="display: none;"><td class="formdesc">Номинал резистора R<sub>B</sub></td><td class="form"><input type="TEXT" class="formtext" id="ntc_rb" size="20" value="50">&nbsp;<b><u>кило</u></b>Ом</td>
   </tr><tr><td class="formdesc">Разрядность АЦП</td><td class="form"><select class="formsel" id="ntc_adc_limit">
     <option value="64">6 бит
     </option><option value="128">7 бит
     </option><option value="256">8 бит
     </option><option value="512">9 бит
     </option><option value="1024" selected="">10 бит
     </option><option value="2048">11 бит
     </option><option value="4096">12 бит
     </option><option value="8192">13 бит
     </option><option value="16384">14 бит
     </option><option value="32768">15 бит
     </option><option value="65536">16 бит
     </option><option value="131072">17 бит
     </option><option value="262144">18 бит
     </option><option value="524288">19 бит
     </option><option value="1048576">20 бит
    </option></select>
   </td></tr>
   <tr><td class="formdesc">Множитель результата АЦП</td><td class="form"><input type="TEXT" class="formtext" id="ntc_adc_scaler" size="20" value="64"></td>
   </tr><tr><td class="formdesc">U<sub>0</sub>, напряжение на входе</td><td class="form"><input type="TEXT" class="formtext" id="ntc_u0" size="20" value="5.0">&nbsp;В</td>
   </tr><tr><td class="formdesc">U<sub>ref</sub>, референтное напряжение АЦП</td><td class="form"><input type="TEXT" class="formtext" id="ntc_uref" size="20" value="5.0">&nbsp;В</td>
   </tr><tr><td class="formdesc">Рассчитать с</td><td class="form"><input type="TEXT" class="formtext" id="ntc_t_from" size="5" value="-55">&nbsp;°С&nbsp;по&nbsp;<input type="TEXT" class="formtext" id="ntc_t_to" size="5" value="125">&nbsp;°С</td>
   </tr><tr><td class="formdesc">Шаг сетки</td><td class="form"><select class="formsel" id="ntc_table_step">
     <option value="0.5">0.5 °С
     </option><option value="1">1 °С
     </option><option value="2">2 °С
     </option><option value="2.5">2.5 °С
     </option><option value="5" selected="">5 °С
     </option><option value="10">10 °С
    </option></select>
   </td></tr>
   
   <tr><td class="form" colspan="2" align="CENTER"><button class="formbtn" onclick="ntcBuildTable(&#39;ru&#39;);">Построить таблицу</button></td></tr>
  </tbody></table>
  <table width="100%">
   <thead>
    <tr><th>T,°С</th><th>R/R1</th><th>R,килоОм</th><th>U,В</th><th>I,мкА</th><th>P,мВт</th><th>U/Uref</th><th>ADC</th><th>E,°С</th>
   </tr></thead>
   <tbody id="ntc_result_table_body">
   <tr><td>20</td><td><b>1.249</b></td><td><b>12.49</b></td><td>2.66088</td><td>213.041</td><td style="background-color: rgb(255, 255, 238);">0.567</td><td>0.8063267</td><td>3303</td><td></td></tr><tr><td>22</td><td>1.1416812</td><td>11.416812</td><td>2.6133</td><td>228.899</td><td style="background-color: rgb(255, 255, 230);">0.598</td><td>0.7919096</td><td>3244</td><td style="background-color: rgb(128, 136, 255);">0.0332</td></tr><tr><td>24</td><td>1.0448466</td><td>10.448466</td><td>2.56386</td><td>245.381</td><td style="background-color: rgb(255, 255, 222);">0.629</td><td>0.7769262</td><td>3182</td><td style="background-color: rgb(128, 134, 255);">0.0222</td></tr><tr><td>26</td><td>0.9571583</td><td>9.571583</td><td>2.51251</td><td>262.497</td><td style="background-color: rgb(255, 255, 214);">0.66</td><td>0.7613666</td><td>3119</td><td style="background-color: rgb(128, 136, 255);">0.0318</td></tr><tr><td>28</td><td>0.8776678</td><td>8.776678</td><td>2.45936</td><td>280.215</td><td style="background-color: rgb(255, 255, 207);">0.689</td><td>0.7452592</td><td>3053</td><td style="background-color: rgb(128, 135, 255);">0.0282</td></tr><tr><td>30</td><td><b>0.8057</b></td><td><b>8.057</b></td><td>2.40464</td><td>298.453</td><td style="background-color: rgb(255, 255, 200);">0.718</td><td>0.7286787</td><td>2985</td><td style="background-color: rgb(128, 135, 255);">0.0272</td></tr><tr><td>32</td><td>0.7401799</td><td>7.401799</td><td>2.34824</td><td>317.253</td><td style="background-color: rgb(255, 255, 193);">0.745</td><td>0.7115883</td><td>2915</td><td style="background-color: rgb(128, 134, 255);">0.0231</td></tr><tr><td>34</td><td>0.6807394</td><td>6.807394</td><td>2.29056</td><td>336.481</td><td style="background-color: rgb(255, 255, 186);">0.771</td><td>0.6941083</td><td>2843</td><td style="background-color: rgb(128, 132, 255);">0.0162</td></tr><tr><td>36</td><td>0.6266879</td><td>6.266879</td><td>2.23168</td><td>356.107</td><td style="background-color: rgb(255, 255, 180);">0.795</td><td>0.6762664</td><td>2770</td><td style="background-color: rgb(128, 132, 255);">0.0156</td></tr><tr><td>38</td><td>0.5774843</td><td>5.774843</td><td>2.17177</td><td>376.075</td><td style="background-color: rgb(255, 255, 175);">0.817</td><td>0.6581135</td><td>2696</td><td style="background-color: rgb(128, 133, 255);">0.018</td></tr><tr><td>40</td><td><b>0.5327</b></td><td><b>5.327</b></td><td>2.1111</td><td>396.301</td><td style="background-color: rgb(255, 255, 169);">0.837</td><td>0.6397262</td><td>2620</td><td style="background-color: rgb(128, 130, 255);">0.0095</td></tr><tr><td>42</td><td>0.4917163</td><td>4.917163</td><td>2.04955</td><td>416.816</td><td style="background-color: rgb(255, 255, 165);">0.854</td><td>0.6210764</td><td>2544</td><td style="background-color: rgb(128, 131, 255);">0.0107</td></tr><tr><td>44</td><td>0.4543442</td><td>4.543442</td><td>1.9876</td><td>437.466</td><td style="background-color: rgb(255, 255, 161);">0.87</td><td>0.6023036</td><td>2467</td><td style="background-color: rgb(128, 130, 255);">0.0086</td></tr><tr><td>46</td><td>0.4201735</td><td>4.201735</td><td>1.92533</td><td>458.223</td><td style="background-color: rgb(255, 255, 158);">0.882</td><td>0.5834337</td><td>2390</td><td style="background-color: rgb(128, 131, 255);">0.0108</td></tr><tr><td>48</td><td>0.3889006</td><td>3.889006</td><td>1.86293</td><td>479.024</td><td style="background-color: rgb(255, 255, 155);">0.892</td><td>0.5645235</td><td>2312</td><td style="background-color: rgb(128, 131, 255);">0.0115</td></tr><tr><td>50</td><td><b>0.3603</b></td><td><b>3.603</b></td><td>1.80068</td><td>499.773</td><td style="background-color: rgb(255, 255, 153);">0.9</td><td>0.5456611</td><td>2235</td><td style="background-color: rgb(128, 130, 255);">0.007</td></tr><tr><td>52</td><td>0.33399</td><td>3.3399</td><td>1.73846</td><td>520.513</td><td style="background-color: rgb(255, 255, 152);">0.905</td><td>0.5268064</td><td>2158</td><td style="background-color: rgb(128, 130, 255);">0.008</td></tr><tr><td>54</td><td>0.3098883</td><td>3.098883</td><td>1.67675</td><td>541.083</td><td style="background-color: rgb(255, 255, 152);">0.907</td><td>0.5081067</td><td>2081</td><td style="background-color: rgb(128, 132, 255);">0.0144</td></tr><tr><td>56</td><td>0.2877725</td><td>2.877725</td><td>1.61567</td><td>561.442</td><td style="background-color: rgb(255, 255, 152);">0.907</td><td>0.4895985</td><td>2005</td><td style="background-color: rgb(128, 133, 255);">0.0184</td></tr><tr><td>58</td><td>0.2674601</td><td>2.674601</td><td>1.55538</td><td>581.539</td><td style="background-color: rgb(255, 255, 152);">0.905</td><td>0.4713285</td><td>1931</td><td style="background-color: rgb(128, 130, 255);">0.0089</td></tr><tr><td>60</td><td><b>0.2488</b></td><td><b>2.488</b></td><td>1.49606</td><td>601.312</td><td style="background-color: rgb(255, 255, 154);">0.9</td><td>0.4533528</td><td>1857</td><td style="background-color: rgb(128, 131, 255);">0.0136</td></tr><tr><td>62</td><td>0.2315846</td><td>2.315846</td><td>1.43764</td><td>620.785</td><td style="background-color: rgb(255, 255, 155);">0.892</td><td>0.4356496</td><td>1784</td><td style="background-color: rgb(128, 134, 255);">0.0234</td></tr><tr><td>64</td><td>0.2157438</td><td>2.157438</td><td>1.38044</td><td>639.853</td><td style="background-color: rgb(255, 255, 158);">0.883</td><td>0.4183159</td><td>1713</td><td style="background-color: rgb(128, 134, 255);">0.024</td></tr><tr><td>66</td><td>0.2011319</td><td>2.011319</td><td>1.32447</td><td>658.509</td><td style="background-color: rgb(255, 255, 160);">0.872</td><td>0.4013552</td><td>1644</td><td style="background-color: rgb(128, 133, 255);">0.0185</td></tr><tr><td>68</td><td>0.1876428</td><td>1.876428</td><td>1.26983</td><td>676.725</td><td style="background-color: rgb(255, 255, 164);">0.859</td><td>0.3847955</td><td>1576</td><td style="background-color: rgb(128, 134, 255);">0.0231</td></tr><tr><td>70</td><td><b>0.1752</b></td><td><b>1.752</b></td><td>1.21667</td><td>694.444</td><td style="background-color: rgb(255, 255, 167);">0.845</td><td>0.3686869</td><td>1510</td><td style="background-color: rgb(128, 134, 255);">0.0248</td></tr><tr><td>72</td><td>0.1637151</td><td>1.637151</td><td>1.16507</td><td>711.644</td><td style="background-color: rgb(255, 255, 171);">0.829</td><td>0.3530511</td><td>1446</td><td style="background-color: rgb(128, 134, 255);">0.0252</td></tr><tr><td>74</td><td>0.1531026</td><td>1.531026</td><td>1.11506</td><td>728.312</td><td style="background-color: rgb(255, 255, 176);">0.812</td><td>0.3378984</td><td>1384</td><td style="background-color: rgb(128, 134, 255);">0.0254</td></tr><tr><td>76</td><td>0.1432906</td><td>1.432906</td><td>1.0667</td><td>744.433</td><td style="background-color: rgb(255, 255, 180);">0.794</td><td>0.3232431</td><td>1324</td><td style="background-color: rgb(128, 135, 255);">0.026</td></tr><tr><td>78</td><td>0.134211</td><td>1.34211</td><td>1.02</td><td>759.999</td><td style="background-color: rgb(255, 255, 185);">0.775</td><td>0.3090917</td><td>1266</td><td style="background-color: rgb(128, 135, 255);">0.0276</td></tr><tr><td>80</td><td><b>0.1258</b></td><td><b>1.258</b></td><td>0.97496</td><td>775.012</td><td style="background-color: rgb(255, 255, 190);">0.756</td><td>0.2954439</td><td>1210</td><td style="background-color: rgb(128, 135, 255);">0.0262</td></tr><tr><td>82</td><td>0.1179374</td><td>1.179374</td><td>0.93122</td><td>789.592</td><td style="background-color: rgb(255, 255, 195);">0.735</td><td>0.2821891</td><td>1156</td><td style="background-color: rgb(128, 135, 255);">0.0261</td></tr><tr><td>84</td><td>0.1106462</td><td>1.106462</td><td>0.88917</td><td>803.612</td><td style="background-color: rgb(255, 255, 201);">0.715</td><td>0.269444</td><td>1104</td><td style="background-color: rgb(128, 134, 255);">0.0233</td></tr><tr><td>86</td><td>0.1038833</td><td>1.038833</td><td>0.8488</td><td>817.068</td><td style="background-color: rgb(255, 255, 206);">0.694</td><td>0.2572111</td><td>1054</td><td style="background-color: rgb(128, 134, 255);">0.0218</td></tr><tr><td>88</td><td>0.0976055</td><td>0.976055</td><td>0.81009</td><td>829.968</td><td style="background-color: rgb(255, 255, 211);">0.672</td><td>0.2454832</td><td>1005</td><td style="background-color: rgb(128, 139, 255);">0.0425</td></tr><tr><td>90</td><td><b>0.09177</b></td><td><b>0.9177</b></td><td>0.77301</td><td>842.331</td><td style="background-color: rgb(255, 255, 217);">0.651</td><td>0.2342446</td><td>959</td><td style="background-color: rgb(128, 139, 255);">0.0414</td></tr><tr><td>92</td><td>0.0863226</td><td>0.863226</td><td>0.73737</td><td>854.208</td><td style="background-color: rgb(255, 255, 222);">0.63</td><td>0.2234469</td><td>915</td><td style="background-color: rgb(128, 138, 255);">0.0394</td></tr><tr><td>94</td><td>0.0812527</td><td>0.812527</td><td>0.7033</td><td>865.568</td><td style="background-color: rgb(255, 255, 227);">0.609</td><td>0.2131204</td><td>873</td><td style="background-color: rgb(128, 136, 255);">0.0328</td></tr><tr><td>96</td><td>0.0765251</td><td>0.765251</td><td>0.67069</td><td>876.436</td><td style="background-color: rgb(255, 255, 233);">0.588</td><td>0.2032403</td><td>832</td><td style="background-color: rgb(128, 140, 255);">0.0471</td></tr><tr><td>98</td><td>0.0721138</td><td>0.721138</td><td>0.63952</td><td>886.826</td><td style="background-color: rgb(255, 255, 238);">0.567</td><td>0.1937949</td><td>794</td><td style="background-color: rgb(128, 136, 255);">0.031</td></tr><tr><td>100</td><td><b>0.068</b></td><td><b>0.68</b></td><td>0.60978</td><td>896.739</td><td style="background-color: rgb(255, 255, 243);">0.547</td><td>0.1847826</td><td>757</td><td></td></tr></tbody> 
  </table>
  <script language="JavaScript">
   fillNtcSelect('ru');
  </script>
<p><b>Пояснения к таблице:</b></p>
<p><b>жирным</b> выделены значения R/R1 и R, полученные на основе табличных. Обычным шрифтом обозначены значения полученные интерполяцией или экстраполяцией по формулам.</p>
<p><b>ADC</b> – округлённое значение на выходе АЦП, с учётом множителя. Значения, выходящие за предел измерений АЦП, не отображаются.</p>
<p><b>I,мкА</b> - ток в цепи.</p>
<p><b>P,мВт</b> - мощность, рассеиваемая на термисторе.</p>
<p><b>E</b> – эвристическая оценка возможной погрешности вычисленной температуры, вызванной использованием линейной интерполяции табличных значений, и ограниченной точностью АЦП. Позволяет выбрать параметры и схему включения таким образом, чтобы в области измеряемых значений погрешность была минимальна. Эта оценка не учитывает возможный шум, возникающий на АЦП, а также погрешность, вызванную нагревом термистора из-за протекающих токов. Погрешность можно уменьшить выбрав меньший шаг таблицы, используя АЦП большей разрядности, или путём усреднения большего числа измерений, а также подбором номиналов сопротивлений в цепи.</p>
<br>
<p><b>Код, соответствующий таблице</b></p>
<pre class="code"><span class="keyword">#include</span> <span class="str">&lt;avr/io.h&gt;</span>
<span class="keyword">#include</span> <span class="str">&lt;avr/pgmspace.h&gt;</span>

<span class="comment">// Значение температуры, возвращаемое если сумма результатов АЦП больше первого значения таблицы</span>
<span class="keyword">#define</span> <span class="const">TEMPERATURE_UNDER</span> <span class="numeric" id="ntc_code_under">200</span>
<span class="comment">// Значение температуры, возвращаемое если сумма результатов АЦП меньше последнего значения таблицы</span>
<span class="keyword">#define</span> <span class="const">TEMPERATURE_OVER</span> <span class="numeric" id="ntc_code_over">1000</span>
<span class="comment">// Значение температуры соответствующее первому значению таблицы</span>
<span class="keyword">#define</span> <span class="const">TEMPERATURE_TABLE_START</span> <span class="numeric" id="ntc_code_start">200</span>
<span class="comment">// Шаг таблицы </span>
<span class="keyword">#define</span> <span class="const">TEMPERATURE_TABLE_STEP</span> <span class="numeric" id="ntc_code_step">20</span>

<span class="comment">// Тип каждого элемента в таблице, если сумма выходит в пределах 16 бит - uint16_t, иначе - uint32_t</span>
<span class="keyword">typedef</span> <span class="keyword" id="ntc_code_type_entry">uint16_t</span> <span class="var">temperature_table_entry_type</span>;
<span class="comment">// Тип индекса таблицы. Если в таблице больше 256 элементов, то uint16_t, иначе - uint8_t</span>
<span class="keyword">typedef</span> <span class="keyword" id="ntc_code_type_index">uint8_t</span> <span class="var">temperature_table_index_type</span>;
<span class="comment">// Метод доступа к элементу таблицы, должна соответствовать temperature_table_entry_type</span>
<span class="keyword">#define</span> <span class="const">TEMPERATURE_TABLE_READ</span>(<span class="var">i</span>) <span class="method" id="ntc_code_pgm_read">pgm_read_word</span>(&amp;<span class="var">termo_table</span>[<span class="var">i</span>])

<span class="comment">/* Таблица суммарного значения АЦП в зависимости от температуры. От большего значения к меньшему
   Для построения таблицы использованы следующие парамертры:</span>
<span class="comment" id="ntc_code_params">     R1(T1): 10кОм(25°С)
     Таблица R/T характеристик: EPCOS R/T:8016; B25/100:3988K
     Схема включения: A
     Ra: 3кОм
     Напряжения U0/Uref: 3.3В/3.3В
</span><span class="comment">*/</span>
<span class="keyword">const</span> <span class="var">temperature_table_entry_type</span> <span class="var">termo_table</span>[] <span class="const">PROGMEM</span> = {<span class="numeric" id="ntc_code_table">
    3303, 3244, 3182, 3119, 3053, 2985, 2915, 2843,
    2770, 2696, 2620, 2544, 2467, 2390, 2312, 2235,
    2158, 2081, 2005, 1931, 1857, 1784, 1713, 1644,
    1576, 1510, 1446, 1384, 1324, 1266, 1210, 1156,
    1104, 1054, 1005, 959, 915, 873, 832, 794,
    757</span>
};

<span class="comment">// Функция вычисляет значение температуры в десятых долях градусов Цельсия</span>
<span class="comment">// в зависимости от суммарного значения АЦП.</span>
<span class="keyword">int16_t</span> <span class="method">calc_temperature</span>(<span class="var">temperature_table_entry_type</span> <span class="var">adcsum</span>) {
  <span class="var">temperature_table_index_type</span> <span class="var">l</span> = <span class="numeric">0</span>;
  <span class="var">temperature_table_index_type</span> <span class="var">r</span> = (<span class="keyword">sizeof</span>(<span class="var">termo_table</span>) / <span class="keyword">sizeof</span>(<span class="var">termo_table</span>[<span class="numeric">0</span>])) - <span class="numeric">1</span>;
  <span class="var">temperature_table_entry_type</span> <span class="var">thigh</span> = <span class="const">TEMPERATURE_TABLE_READ</span>(<span class="var">r</span>);
  
  <span class="comment">// Проверка выхода за пределы и граничных значений</span>
  <span class="keyword">if</span> (<span class="var">adcsum</span> &lt;= <span class="var">thigh</span>) {
    <span class="keyword">#ifdef</span> <span class="const">TEMPERATURE_UNDER</span>
      <span class="keyword">if</span> (<span class="var">adcsum</span> &lt; <span class="var">thigh</span>) 
        <span class="keyword">return</span> <span class="const">TEMPERATURE_UNDER</span>;
    <span class="keyword">#endif</span>
    <span class="keyword">return</span> <span class="const">TEMPERATURE_TABLE_STEP</span> * <span class="var">r</span> + <span class="const">TEMPERATURE_TABLE_START</span>;
  }
  <span class="var">temperature_table_entry_type</span> <span class="var">tlow</span> = <span class="const">TEMPERATURE_TABLE_READ</span>(<span class="numeric">0</span>);
  <span class="keyword">if</span> (<span class="var">adcsum</span> &gt;= <span class="var">tlow</span>) {
    <span class="keyword">#ifdef</span> <span class="const">TEMPERATURE_OVER</span>
      <span class="keyword">if</span> (<span class="var">adcsum</span> &gt; <span class="var">tlow</span>)
        <span class="keyword">return</span> <span class="const">TEMPERATURE_OVER</span>;
    <span class="keyword">#endif</span>
    <span class="keyword">return</span> <span class="const">TEMPERATURE_TABLE_START</span>;
  }

  <span class="comment">// Двоичный поиск по таблице</span>
  <span class="keyword">while</span> ((<span class="var">r</span> - <span class="var">l</span>) &gt; <span class="numeric">1</span>) {
    <span class="var">temperature_table_index_type</span> <span class="var">m</span> = (<span class="var">l</span> + <span class="var">r</span>) &gt;&gt; <span class="numeric">1</span>;
    <span class="var">temperature_table_entry_type</span> <span class="var">mid</span> = <span class="const">TEMPERATURE_TABLE_READ</span>(<span class="var">m</span>);
    <span class="keyword">if</span> (<span class="var">adcsum</span> &gt; <span class="var">mid</span>) {
      <span class="var">r</span> = <span class="var">m</span>;
    } <span class="keyword">else</span> {
      <span class="var">l</span> = <span class="var">m</span>;
    }
  }
  <span class="var">temperature_table_entry_type</span> <span class="var">vl</span> = <span class="const">TEMPERATURE_TABLE_READ</span>(<span class="var">l</span>);
  <span class="keyword">if</span> (<span class="var">adcsum</span> &gt;= <span class="var">vl</span>) {
    <span class="keyword">return</span> <span class="var">l</span> * <span class="const">TEMPERATURE_TABLE_STEP</span> + <span class="const">TEMPERATURE_TABLE_START</span>;
  }
  <span class="var">temperature_table_entry_type</span> <span class="var">vr</span> = <span class="const">TEMPERATURE_TABLE_READ</span>(<span class="var">r</span>);
  <span class="var">temperature_table_entry_type</span> <span class="var">vd</span> = <span class="var">vl</span> - <span class="var">vr</span>;
  <span class="keyword">int16_t</span> <span class="var">res</span> = <span class="const">TEMPERATURE_TABLE_START</span> + <span class="var">r</span> * <span class="const">TEMPERATURE_TABLE_STEP</span>; 
  <span class="keyword">if</span> (<span class="var">vd</span>) {
    <span class="comment">// Линейная интерполяция</span>
    <span class="var">res</span> -= ((<span class="const">TEMPERATURE_TABLE_STEP</span> * (<span class="keyword">int32_t</span>)(<span class="var">adcsum</span> - <span class="var">vr</span>) + (<span class="var">vd</span> &gt;&gt; <span class="numeric">1</span>)) / <span class="var">vd</span>);
  }
  <span class="keyword">return</span> <span class="var">res</span>;
}
</pre>
<br>
<a name="__h2_7"></a><h2>Пример использования</h2>
<p>В примере ниже используется вывод на семисигментный индикатор. </p>
<p>Описание работы с индикатором смотрите в <a href="https://aterlux.ru/article/avr_cc56-12">другой моей статье</a>.</p>
<p></p><center><table width="1" cellspacing="0" cellpadding="0" class="imgtable" style="margin-right:10px; align:center"><tbody><tr class="imgtable"><td class="imgtable"><img src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/cc56-12gwa.png" alt="Вывод значения температуры на идникатор СС56-12GWA" class="artimg"></td></tr><tr width="1" class="imgtablelabel"><td class="imgtablelabel">Вывод значения температуры на идникатор СС56-12GWA</td></tr></tbody></table></center><p></p>
<br>
<pre class="code">  <span class="const">ADMUX</span> = <span class="numeric">0b01000111</span>; <span class="comment">// референтное напряжение - Vcc, вход ADC7, реузультат по правому краю</span>
  <span class="const">ADCSRA</span> = <span class="numeric">0b10000111</span>; <span class="comment">// 1/128 делитель частоты, включение АЦП</span>

  <span class="keyword">while</span>(<span class="numeric">1</span>)  {
    <span class="var">temperature_table_entry_type</span> <span class="var">summ</span> = <span class="numeric">0</span>;
    <span class="keyword">for</span> (<span class="keyword">uint8_t</span> <span class="var">i</span> = <span class="numeric">0</span>; <span class="var">i</span> &lt; <span class="numeric">64</span>; <span class="var">i</span>++) {
      <span class="const">ADCSRA</span> |= <span class="const">_BV</span>(<span class="const">ADSC</span>);
      <span class="method">loop_until_bit_is_clear</span>(<span class="const">ADCSRA</span>, <span class="const">ADSC</span>);
      <span class="var">summ</span> += <span class="const">ADC</span>;
    }
    <span class="keyword">int16_t</span> <span class="var">t</span> = <span class="method">calc_temperature</span>(<span class="var">summ</span>);
    <span class="method">ledind_num</span>(<span class="var">t</span>, <span class="numeric">1</span>, <span class="numeric">0b01010011</span>); <span class="comment">// Вывод значения на индикатор с префиксом в виде буквы t</span>
    <span class="method">_delay_ms</span>(<span class="numeric">250</span>);
  }
</pre>
<br>
<script type="text/javascript" src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/openapi.js"></script>

<script type="text/javascript">
  VK.init({apiId: 3679790, onlyWidgets: true});
</script>

<div id="vk_like" style="width: 350px; height: 24px; background: url(&quot;https://vk.com/images/upload.gif&quot;) center center no-repeat transparent; position: relative; clear: both;"><iframe name="fXD1f76b" frameborder="0" src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/widget_like.html" width="100%" height="24" scrolling="no" id="vkwidget1" style="overflow: hidden; height: 24px; width: 350px; z-index: 150;"></iframe></div>
<script type="text/javascript">
VK.Widgets.Like("vk_like", {type: "full", verb: 1, height: 24});
</script>
<br>
<div id="vk_comments" style="width: 496px; height: 2061px; background: none;"><iframe name="fXD54488" frameborder="0" src="./_Измерение температуры при помощи NTC термистора и микроконтроллера AVR_files/widget_comments.html" width="496" height="133" scrolling="no" id="vkwidget2" style="overflow: hidden; height: 2061px;"></iframe></div>
<script type="text/javascript">
VK.Widgets.Comments("vk_comments", {limit: 10, width: "496", attach: "*"});
</script>
<br>
</div><!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter21973744 = new Ya.Metrika({id:21973744,
                    trackLinks:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/21973744" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<br><font size="1" color="#C0C0C0">7 ms; mod: Mon, 11 Jan 2021 09:39:36 GMT; gen: Sun, 02 Jun 2024 21:27:18 GMT</font>
    </td>
   </tr>
  </tbody></table>
 

<div at-magnifier-wrapper=""><div class="at-theme-light"><div class="at-base notranslate" translate="no"><div class="EuwGd" style="top: 0px; left: 0px;"></div></div></div></div></body></html>